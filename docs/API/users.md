# Cedar.school API ‚Äî Users

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É—á–∏—Ç–µ–ª–µ–π, —É—á–µ–Ω–∏–∫–æ–≤, –∑–∞—è–≤–æ–∫ –Ω–∞ —Ä–æ–ª—å –∏ —É–ø—Ä–æ—â—ë–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

---

## üë§ –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `GET /api/users/me/` ‚Äî –∞–ª–∏–∞—Å, –æ—Ç–¥–∞—ë—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—É–¥–æ–±–Ω–æ —Ñ—Ä–æ–Ω—Ç—É).  
- `GET /api/auth/users/me/` ‚Äî –∫–∞–Ω–æ–Ω–∏—á–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç Djoser.

## üë• Users (ReadOnly) + set-role
- `GET /api/users/` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
- `GET /api/users/:id/` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ id.  
- `POST /api/users/:id/set-role/` ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ (**—Ç–æ–ª—å–∫–æ ADMIN**).  
  **Body –ø—Ä–∏–º–µ—Ä:** `{ "role": "TEACHER" }`

## üë©‚Äçüè´ Teachers (ReadOnly)
- `GET /api/teachers/` ‚Äî —Å–ø–∏—Å–æ–∫ —É—á–∏—Ç–µ–ª–µ–π.  
- `GET /api/teachers/:id/` ‚Äî —É—á–∏—Ç–µ–ª—å –ø–æ id.

## üßí Students (ReadOnly)
- `GET /api/students/` ‚Äî —Å–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤.  
- `GET /api/students/:id/` ‚Äî —É—á–µ–Ω–∏–∫ –ø–æ id.

## üìù Role Requests
- `GET /api/role-requests/` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ (DIRECTOR ‚Äî –≤—Å–µ, HEAD_TEACHER ‚Äî STUDENT/PARENT, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —Å–≤–æ–∏).  
- `POST /api/role-requests/` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É (–æ–±—ã—á–Ω–æ STUDENT –∏–ª–∏ PARENT).  
- `GET /api/role-requests/allowed-roles/` ‚Äî —Ä–æ–ª–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.  
- `POST /api/role-requests/:id/approve/` ‚Äî —É—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞—è–≤–∫—É.  
- `POST /api/role-requests/:id/reject/` ‚Äî –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É.

## ü™™ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (CSRF‚Äëexempt)
- `POST /api/registration/users/` ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–µ–∑ CSRF (Djoser).  
  **Body –ø—Ä–∏–º–µ—Ä:**  
  ```json
  {
    "username": "newuser",
    "password": "pass12345",
    "re_password": "pass12345"
  }
  ```

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- `IsAdminRole` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–æ–ª—å = ADMIN.  
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã ‚Äî –º–∏–Ω–∏–º—É–º `IsAuthenticated`.
